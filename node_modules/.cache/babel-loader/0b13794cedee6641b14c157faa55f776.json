{"ast":null,"code":"var _jsxFileName = \"/Users/liuhongyang/Documents/GitHub/repositories/mindmap/src/components/Node/subComponents/Toolbar.js\";\nimport React from 'react';\nimport { css } from 'emotion';\nimport useMindmap from '../../../customHooks/useMindmap';\nimport useEditPanel from '../../../customHooks/useEditPanel';\nimport { handlePropagation } from '../../../methods/assistFunctions';\nimport ToolButton from '../../ToolButton';\n\nconst Toolbar = ({\n  layer,\n  node,\n  parent\n}) => {\n  const mindmapHook = useMindmap();\n  const editPanelHook = useEditPanel();\n\n  const handleAddChild = () => {\n    mindmapHook.addChild(node.id);\n  };\n\n  const handleAddSibling = () => {\n    mindmapHook.addSibling(node.id, parent.id);\n  };\n\n  const handleDeleteNode = () => {\n    mindmapHook.deleteNode(node.id, parent.id);\n  };\n\n  const handleEditNode = () => {\n    mindmapHook.editNode(node.id);\n  };\n\n  const handleToggleChildren = () => {\n    mindmapHook.toggleChildren(node.id, !node.showChildren);\n  };\n\n  const handleAddInfo = () => {\n    mindmapHook.selectNode(node.id);\n    editPanelHook.toggelPanelShow(true);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: wrapper,\n    onClick: handlePropagation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'git-commit',\n    onClick: handleAddChild,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"\\u6DFB\\u52A0\\u5B50\\u8282\\u70B9\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'git-fork',\n    onClick: handleAddSibling,\n    disabled: layer < 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, \"\\u6DFB\\u52A0\\u5144\\u5F1F\\u8282\\u70B9\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'delete',\n    onClick: handleDeleteNode,\n    disabled: layer < 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, \"\\u5220\\u9664\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'edit-pencil',\n    onClick: handleEditNode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"\\u7F16\\u8F91\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'edit-pencil',\n    onClick: handleAddInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, \"\\u6DFB\\u52A0\\u5907\\u6CE8\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'split-v',\n    onClick: handleToggleChildren,\n    disabled: layer < 1 || node.children.length === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"\\u663E\\u9690\\u5B50\\u8282\\u70B9\"));\n};\n\nexport default Toolbar; // CSS\n\nconst wrapper = css`\ndisplay: flex;\nposition: absolute;\nbottom: calc(100% + 5px);\nleft:0;\nbackground-color: #ffffff;\nwidth: max-content;\nheight: 50px;\npadding: 0 8px;\nfont-size: 20px;\nbackground-color: #ffffff;\nborder-radius: 10px;\nbox-shadow: 5px 5px 10px #aaaaaa;\n`;","map":{"version":3,"sources":["/Users/liuhongyang/Documents/GitHub/repositories/mindmap/src/components/Node/subComponents/Toolbar.js"],"names":["React","css","useMindmap","useEditPanel","handlePropagation","ToolButton","Toolbar","layer","node","parent","mindmapHook","editPanelHook","handleAddChild","addChild","id","handleAddSibling","addSibling","handleDeleteNode","deleteNode","handleEditNode","editNode","handleToggleChildren","toggleChildren","showChildren","handleAddInfo","selectNode","toggelPanelShow","wrapper","children","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {css} from 'emotion';\nimport useMindmap from '../../../customHooks/useMindmap';\nimport useEditPanel from '../../../customHooks/useEditPanel';\nimport {handlePropagation} from '../../../methods/assistFunctions';\nimport ToolButton from '../../ToolButton';\n\nconst Toolbar = ({layer, node, parent}) => {\n    const mindmapHook = useMindmap();\n    const editPanelHook=useEditPanel();\n\n    const handleAddChild = () => {\n        mindmapHook.addChild(node.id);\n    };\n\n    const handleAddSibling = () => {\n        mindmapHook.addSibling(node.id, parent.id);\n    };\n\n    const handleDeleteNode = () => {\n        mindmapHook.deleteNode(node.id, parent.id);\n    };\n\n    const handleEditNode = () => {\n        mindmapHook.editNode(node.id);\n    };\n\n    const handleToggleChildren = () => {\n        mindmapHook.toggleChildren(node.id, !node.showChildren);\n    };\n\n    const handleAddInfo=()=>{\n        mindmapHook.selectNode(node.id);\n        editPanelHook.toggelPanelShow(true);\n    }\n\n    return (<div className={wrapper} onClick={handlePropagation}>\n        <ToolButton icon={'git-commit'} onClick={handleAddChild}>添加子节点</ToolButton>\n        <ToolButton icon={'git-fork'} onClick={handleAddSibling} disabled={layer < 1}>添加兄弟节点</ToolButton>\n        <ToolButton icon={'delete'} onClick={handleDeleteNode} disabled={layer < 1}>删除</ToolButton>\n        <ToolButton icon={'edit-pencil'} onClick={handleEditNode}>编辑</ToolButton>\n        <ToolButton icon={'edit-pencil'} onClick={handleAddInfo}>添加备注</ToolButton>\n        <ToolButton icon={'split-v'} onClick={handleToggleChildren} disabled={layer < 1 || node.children.length === 0}>显隐子节点</ToolButton>\n    </div>);\n};\n\nexport default Toolbar;\n\n// CSS\nconst wrapper = css`\ndisplay: flex;\nposition: absolute;\nbottom: calc(100% + 5px);\nleft:0;\nbackground-color: #ffffff;\nwidth: max-content;\nheight: 50px;\npadding: 0 8px;\nfont-size: 20px;\nbackground-color: #ffffff;\nborder-radius: 10px;\nbox-shadow: 5px 5px 10px #aaaaaa;\n`;"]},"metadata":{},"sourceType":"module"}