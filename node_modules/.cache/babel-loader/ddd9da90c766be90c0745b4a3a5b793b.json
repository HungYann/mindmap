{"ast":null,"code":"import * as actionTypes from './actionTypes';\nimport * as refer from '../../../statics/refer';\nimport { deepCopy } from '../../../methods/assistFunctions';\nimport { debug } from 'util';\nexport const defaultValue_global = {\n  title: localStorage.getItem('title') || refer.DEFAULT_TITLE,\n  theme_index: Number(localStorage.getItem('theme_index')) || 0,\n  theme_list: [{\n    main: \"#eda938\",\n    light: \"#f4cc87\",\n    dark: \"#e79021\",\n    ex: \"#ce7529\",\n    assist: \"#1980da\"\n  }, {\n    main: \"#ff4c26\",\n    light: \"#ffcabc\",\n    dark: \"#e83f1d\",\n    ex: \"#c12a0f\",\n    assist: \"#0e95ac\"\n  }, {\n    main: \"#50b843\",\n    light: \"#c3e5bd\",\n    dark: \"#28ab17\",\n    ex: \"#038b00\",\n    assist: \"#790595\"\n  }, {\n    main: \"#2d99d7\",\n    light: \"#e2f5ff\",\n    dark: \"#2786c3\",\n    ex: \"#2375af\",\n    assist: \"#ca6c27\"\n  }, {\n    main: \"#b347d2\",\n    light: \"#e4c0ef\",\n    dark: \"#a623c9\",\n    ex: \"#9621c3\",\n    assist: \"#009000\"\n  }, {\n    main: \"#555555\",\n    light: \"#e9e9e9\",\n    dark: \"#434343\",\n    ex: \"#262626\",\n    assist: \"#860314\"\n  }],\n  zoom: 1,\n  x: 0,\n  y: 0\n};\nconst ZOOM_STEP = 0.1;\nconst MOVE_STEP = 0.1;\n\nconst preventMinValue = (obj, key, min) => {\n  if (obj[key] <= min) {\n    obj[key] = min;\n  }\n};\n\nexport default ((global, action) => {\n  switch (action.type) {\n    case actionTypes.SET_TITLE:\n    case actionTypes.SET_THEME:\n      return Object.assign(deepCopy(global), action.data);\n\n    case actionTypes.ZOOM_IN:\n      {\n        const newGlobal = deepCopy(global);\n        newGlobal.zoom += ZOOM_STEP;\n        return newGlobal;\n      }\n\n    case actionTypes.ZOOM_OUT:\n      {\n        const newGlobal = deepCopy(global);\n        newGlobal.zoom -= ZOOM_STEP;\n        preventMinValue(newGlobal, 'zoom', 0.3);\n        return newGlobal;\n      }\n\n    case actionTypes.ZOOM_RESET:\n      {\n        const newGlobal = deepCopy(global);\n        newGlobal.zoom = 1;\n        return newGlobal;\n      }\n\n    case actionTypes.MOVE_XY:\n      {\n        const newGlobal = deepCopy(global);\n        newGlobal.x += action.data.x / newGlobal.zoom;\n        newGlobal.y += action.data.y / newGlobal.zoom;\n        return newGlobal;\n      }\n\n    case actionTypes.MOVE_RESET:\n      {\n        const newGlobal = deepCopy(global);\n        newGlobal.x = 0;\n        newGlobal.y = 0;\n        return newGlobal;\n      }\n\n    case actionTypes.MOVE_XY_WHEN_ZOOM:\n      {\n        const newGlobal = deepCopy(global);\n        newGlobal.x = 0;\n        newGlobal.x = 0;\n        return newGlobal;\n      }\n\n    default:\n      return global;\n  }\n});","map":{"version":3,"sources":["/Users/liuhongyang/Desktop/RMind-develop/src/context/reducer/global/index.js"],"names":["actionTypes","refer","deepCopy","debug","defaultValue_global","title","localStorage","getItem","DEFAULT_TITLE","theme_index","Number","theme_list","main","light","dark","ex","assist","zoom","x","y","ZOOM_STEP","MOVE_STEP","preventMinValue","obj","key","min","global","action","type","SET_TITLE","SET_THEME","Object","assign","data","ZOOM_IN","newGlobal","ZOOM_OUT","ZOOM_RESET","MOVE_XY","MOVE_RESET","MOVE_XY_WHEN_ZOOM"],"mappings":"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","sourcesContent":["import * as actionTypes from './actionTypes';\nimport * as refer from '../../../statics/refer';\nimport { deepCopy } from '../../../methods/assistFunctions';\nimport { debug } from 'util';\n\nexport const defaultValue_global = {\n    title: localStorage.getItem('title') || refer.DEFAULT_TITLE,\n    theme_index: Number(localStorage.getItem('theme_index')) || 0,\n    theme_list: [\n        { main: \"#eda938\", light: \"#f4cc87\", dark: \"#e79021\", ex: \"#ce7529\", assist: \"#1980da\" },\n        { main: \"#ff4c26\", light: \"#ffcabc\", dark: \"#e83f1d\", ex: \"#c12a0f\", assist: \"#0e95ac\" },\n        { main: \"#50b843\", light: \"#c3e5bd\", dark: \"#28ab17\", ex: \"#038b00\", assist: \"#790595\" },\n        { main: \"#2d99d7\", light: \"#e2f5ff\", dark: \"#2786c3\", ex: \"#2375af\", assist: \"#ca6c27\" },\n        { main: \"#b347d2\", light: \"#e4c0ef\", dark: \"#a623c9\", ex: \"#9621c3\", assist: \"#009000\" },\n        { main: \"#555555\", light: \"#e9e9e9\", dark: \"#434343\", ex: \"#262626\", assist: \"#860314\" }\n    ],\n    zoom: 1,\n    x:0,\n    y:0,\n};\n\nconst ZOOM_STEP=0.1;\nconst MOVE_STEP=0.1;\n\nconst preventMinValue=(obj,key,min)=>{\n    \n    if(obj[key]<=min){\n        obj[key]=min\n    }\n}\n\nexport default (global, action) => {\n    switch (action.type) {\n        case actionTypes.SET_TITLE:\n        case actionTypes.SET_THEME:\n            return Object.assign(deepCopy(global), action.data);\n        case actionTypes.ZOOM_IN: {\n            const newGlobal = deepCopy(global)\n            newGlobal.zoom += ZOOM_STEP;\n            return newGlobal;\n        }\n        case actionTypes.ZOOM_OUT: {\n            const newGlobal = deepCopy(global)\n            newGlobal.zoom -= ZOOM_STEP;\n            preventMinValue(newGlobal,'zoom', 0.3)\n            return newGlobal;\n        }\n        case actionTypes.ZOOM_RESET: {\n            const newGlobal = deepCopy(global)\n            newGlobal.zoom = 1;\n            return newGlobal;\n        }        \n        case actionTypes.MOVE_XY: {\n            const newGlobal = deepCopy(global)\n            newGlobal.x+=action.data.x/newGlobal.zoom;\n            newGlobal.y+=action.data.y/newGlobal.zoom;\n            return newGlobal;\n        }        \n        case actionTypes.MOVE_RESET: {\n            const newGlobal = deepCopy(global)\n            newGlobal.x=0;\n            newGlobal.y=0;\n            return newGlobal;\n        }\n        case actionTypes.MOVE_XY_WHEN_ZOOM:{\n            const newGlobal = deepCopy(global)\n            newGlobal.x=0;\n            newGlobal.x=0;\n            return newGlobal;\n        }\n        default:\n            return global;\n    }\n};"]},"metadata":{},"sourceType":"module"}