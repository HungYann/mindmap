{"ast":null,"code":"var _jsxFileName = \"/Users/liuhongyang/Documents/GitHub/repositories/mindmap/src/features/Nav/index.js\";\nimport React, { useState, useContext } from 'react';\nimport { css } from 'emotion';\nimport { context } from '../../context';\nimport useMindmap from '../../customHooks/useMindmap';\nimport useHistory from '../../customHooks/useHistory';\nimport useZoom from '../../customHooks/useZoom';\nimport useMove from '../../customHooks/useMove';\nimport * as refer from '../../statics/refer';\nimport * as popupType from '../../components/Popup/common/popupType';\nimport { handlePropagation, downloadFile } from '../../methods/assistFunctions'; // 防止 Mindmap 中的选中状态由于冒泡被清除\n\nimport ToolButton from '../../components/ToolButton';\nimport MindmapTitle from '../../components/MindmapTitle';\nimport Popup from '../../components/Popup';\n\nconst Nav = () => {\n  const [popup, setPopup] = useState(popupType.NONE);\n  const {\n    mindmap: {\n      state: mindmap\n    },\n    history: {\n      state: history\n    },\n    global: {\n      state: {\n        title\n      }\n    }\n  } = useContext(context);\n  const {\n    expandAll\n  } = useMindmap();\n  const {\n    zoomIn,\n    zoomOut,\n    zoomReset\n  } = useZoom();\n  const {\n    moveXY,\n    moveReset\n  } = useMove();\n  const {\n    undoHistory,\n    redoHistory\n  } = useHistory();\n\n  const handleClosePopup = () => {\n    setPopup(popupType.NONE);\n  };\n\n  const handleNewFile = () => {\n    setPopup(popupType.NEW);\n  };\n\n  const handleDownload = () => {\n    const url = `data:text/plain,${encodeURIComponent(JSON.stringify(mindmap))}`;\n    downloadFile(url, `${title}.rmf`);\n  };\n\n  const handleOpenFile = () => {\n    setPopup(popupType.OPEN);\n  };\n\n  const handleExport = () => {\n    setPopup(popupType.EXPORT);\n  };\n\n  const handleTheme = () => {\n    setPopup(popupType.THEME);\n  };\n\n  const handleUndo = () => {\n    undoHistory();\n  };\n\n  const handleRedo = () => {\n    redoHistory();\n  };\n\n  const handleExpand = () => {\n    expandAll(refer.ROOT_NODE_ID);\n  };\n\n  const handleZoom = zoom => {\n    console.log('缩放', zoom ? zoom : '还原');\n\n    switch (zoom) {\n      case 'in':\n        zoomIn();\n        break;\n\n      case 'out':\n        zoomOut();\n        break;\n\n      default:\n        zoomReset();\n    }\n  };\n\n  const handleMove = move => {\n    console.log('移动', move ? move : '还原');\n\n    switch (move) {\n      case 'up':\n        moveXY(0, -5);\n        break;\n\n      case 'down':\n        moveXY(0, 5);\n        break;\n\n      case 'left':\n        moveXY(-5, 0);\n        break;\n\n      case 'right':\n        moveXY(5, 0);\n        break;\n\n      default:\n        moveReset();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    className: wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: section,\n    onClick: handlePropagation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'add-item-alt',\n    onClick: handleNewFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"\\u65B0\\u5EFA\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'folder-open',\n    onClick: handleOpenFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"\\u6253\\u5F00\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'file-download',\n    onClick: handleDownload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"\\u4E0B\\u8F7D\\u81F3\\u672C\\u5730\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'duplicate',\n    onClick: handleExport,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"\\u5BFC\\u51FA\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'palette',\n    onClick: handleTheme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, \"\\u4E3B\\u9898\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'plus-circle',\n    onClick: () => handleZoom('in'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"\\u653E\\u5927\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'minus-circle',\n    onClick: () => handleZoom('out'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"\\u7F29\\u5C0F\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'rotate-left',\n    onClick: () => handleZoom(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"\\u8FD8\\u539F\")), /*#__PURE__*/React.createElement(\"section\", {\n    className: section,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MindmapTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    className: section,\n    onClick: handlePropagation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'rotate-left',\n    onClick: () => handleMove(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"\\u8FD8\\u539F\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'arrow-left',\n    onClick: () => handleMove('left'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"\\u5DE6\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'arrow-up',\n    onClick: () => handleMove('up'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"\\u4E0A\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'arrow-down',\n    onClick: () => handleMove('down'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"\\u4E0B\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'arrow-right',\n    onClick: () => handleMove('right'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"\\u53F3\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'undo',\n    disabled: history.undo.length === 0,\n    onClick: handleUndo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \"\\u64A4\\u9500\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'redo',\n    disabled: history.redo.length === 0,\n    onClick: handleRedo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, \"\\u91CD\\u505A\"), /*#__PURE__*/React.createElement(ToolButton, {\n    icon: 'scale',\n    onClick: handleExpand,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"\\u5C55\\u5F00\\u6240\\u6709\\u8282\\u70B9\")), popup !== popupType.NONE && /*#__PURE__*/React.createElement(Popup, {\n    type: popup,\n    handleClosePopup: handleClosePopup,\n    handleDownload: handleDownload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Nav; // CSS\n\nconst wrapper = css`\ndisplay: flex;\njustify-content: space-between;\nposition: fixed;\ntop:0;\nleft:0;\nright:0;\nheight: 56px;\npadding: 0 50px;\nfont-size: 25px;\nbackground-color: #ffffff;\nbox-shadow: 0 0px 2px #aaaaaa;\nz-index: 10;\n`;\nconst section = css`\ndisplay: flex;\n`;","map":{"version":3,"sources":["/Users/liuhongyang/Documents/GitHub/repositories/mindmap/src/features/Nav/index.js"],"names":["React","useState","useContext","css","context","useMindmap","useHistory","useZoom","useMove","refer","popupType","handlePropagation","downloadFile","ToolButton","MindmapTitle","Popup","Nav","popup","setPopup","NONE","mindmap","state","history","global","title","expandAll","zoomIn","zoomOut","zoomReset","moveXY","moveReset","undoHistory","redoHistory","handleClosePopup","handleNewFile","NEW","handleDownload","url","encodeURIComponent","JSON","stringify","handleOpenFile","OPEN","handleExport","EXPORT","handleTheme","THEME","handleUndo","handleRedo","handleExpand","ROOT_NODE_ID","handleZoom","zoom","console","log","handleMove","move","wrapper","section","undo","length","redo"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { css } from 'emotion';\nimport { context } from '../../context';\nimport useMindmap from '../../customHooks/useMindmap';\nimport useHistory from '../../customHooks/useHistory';\nimport useZoom from '../../customHooks/useZoom';\nimport useMove from '../../customHooks/useMove';\nimport * as refer from '../../statics/refer';\nimport * as popupType from '../../components/Popup/common/popupType';\nimport { handlePropagation, downloadFile } from '../../methods/assistFunctions'; // 防止 Mindmap 中的选中状态由于冒泡被清除\nimport ToolButton from '../../components/ToolButton';\nimport MindmapTitle from '../../components/MindmapTitle';\nimport Popup from '../../components/Popup';\n\nconst Nav = () => {\n    const [popup, setPopup] = useState(popupType.NONE);\n    const { mindmap: { state: mindmap }, history: { state: history }, global: { state: { title } } } = useContext(context);\n    const { expandAll } = useMindmap();\n    const { zoomIn, zoomOut, zoomReset } = useZoom();\n    const { moveXY, moveReset } = useMove()\n    const { undoHistory, redoHistory } = useHistory();\n\n    const handleClosePopup = () => {\n        setPopup(popupType.NONE);\n    };\n\n    const handleNewFile = () => {\n        setPopup(popupType.NEW);\n    };\n\n    const handleDownload = () => {\n        const url = `data:text/plain,${encodeURIComponent(JSON.stringify(mindmap))}`;\n        downloadFile(url, `${title}.rmf`);\n    };\n\n    const handleOpenFile = () => {\n        setPopup(popupType.OPEN);\n    };\n\n    const handleExport = () => {\n        setPopup(popupType.EXPORT);\n    };\n\n    const handleTheme = () => {\n        setPopup(popupType.THEME);\n    };\n\n    const handleUndo = () => {\n        undoHistory();\n    };\n\n    const handleRedo = () => {\n        redoHistory();\n    };\n\n    const handleExpand = () => {\n        expandAll(refer.ROOT_NODE_ID);\n    };\n\n    const handleZoom = (zoom) => {\n        console.log('缩放', zoom ? zoom : '还原')\n        switch (zoom) {\n            case 'in':\n                zoomIn()\n                break;\n            case 'out':\n                zoomOut()\n                break;\n            default:\n                zoomReset()\n        }\n    }\n\n    const handleMove = (move) => {\n        console.log('移动', move ? move : '还原')\n        switch (move) {\n            case 'up':\n                moveXY(0,-5)\n                break;\n            case 'down':\n                moveXY(0,5)\n                break;\n            case 'left':\n                moveXY(-5,0)\n                break;\n            case 'right':\n                moveXY(5,0)\n                break;\n            default:\n                moveReset()\n        }\n    }\n\n    return (<nav className={wrapper}>\n        <section className={section} onClick={handlePropagation}>\n            <ToolButton icon={'add-item-alt'} onClick={handleNewFile}>新建</ToolButton>\n            <ToolButton icon={'folder-open'} onClick={handleOpenFile}>打开</ToolButton>\n            <ToolButton icon={'file-download'} onClick={handleDownload}>下载至本地</ToolButton>\n            <ToolButton icon={'duplicate'} onClick={handleExport}>导出</ToolButton>\n            <ToolButton icon={'palette'} onClick={handleTheme}>主题</ToolButton>\n            <ToolButton icon={'plus-circle'} onClick={() => handleZoom('in')}>放大</ToolButton>\n            <ToolButton icon={'minus-circle'} onClick={() => handleZoom('out')}>缩小</ToolButton>\n            <ToolButton icon={'rotate-left'} onClick={() => handleZoom()}>还原</ToolButton>\n        </section>\n        <section className={section}>\n            <MindmapTitle />\n        </section>\n        <section className={section} onClick={handlePropagation}>\n            <ToolButton icon={'rotate-left'} onClick={() => handleMove()}>还原</ToolButton>\n            <ToolButton icon={'arrow-left'} onClick={() => handleMove('left')}>左</ToolButton>\n            <ToolButton icon={'arrow-up'} onClick={() => handleMove('up')}>上</ToolButton>\n            <ToolButton icon={'arrow-down'} onClick={() => handleMove('down')}>下</ToolButton>\n            <ToolButton icon={'arrow-right'} onClick={() => handleMove('right')}>右</ToolButton>\n            <ToolButton icon={'undo'} disabled={history.undo.length === 0} onClick={handleUndo}>撤销</ToolButton>\n            <ToolButton icon={'redo'} disabled={history.redo.length === 0} onClick={handleRedo}>重做</ToolButton>\n            <ToolButton icon={'scale'} onClick={handleExpand}>展开所有节点</ToolButton>\n        </section>\n        {popup !== popupType.NONE &&\n            <Popup type={popup} handleClosePopup={handleClosePopup} handleDownload={handleDownload} />}\n    </nav>);\n};\n\nexport default Nav;\n\n// CSS\nconst wrapper = css`\ndisplay: flex;\njustify-content: space-between;\nposition: fixed;\ntop:0;\nleft:0;\nright:0;\nheight: 56px;\npadding: 0 50px;\nfont-size: 25px;\nbackground-color: #ffffff;\nbox-shadow: 0 0px 2px #aaaaaa;\nz-index: 10;\n`;\n\nconst section = css`\ndisplay: flex;\n`;"]},"metadata":{},"sourceType":"module"}