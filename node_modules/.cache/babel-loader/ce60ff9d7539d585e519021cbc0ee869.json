{"ast":null,"code":"import*as actionTypes from'./actionTypes';import*as refer from'../../../statics/refer';import{deepCopy}from'../../../methods/assistFunctions';import{debug}from'util';export var defaultValue_global={title:localStorage.getItem('title')||refer.DEFAULT_TITLE,theme_index:Number(localStorage.getItem('theme_index'))||0,theme_list:[{main:\"#eda938\",light:\"#f4cc87\",dark:\"#e79021\",ex:\"#ce7529\",assist:\"#1980da\"},{main:\"#ff4c26\",light:\"#ffcabc\",dark:\"#e83f1d\",ex:\"#c12a0f\",assist:\"#0e95ac\"},{main:\"#50b843\",light:\"#c3e5bd\",dark:\"#28ab17\",ex:\"#038b00\",assist:\"#790595\"},{main:\"#2d99d7\",light:\"#e2f5ff\",dark:\"#2786c3\",ex:\"#2375af\",assist:\"#ca6c27\"},{main:\"#b347d2\",light:\"#e4c0ef\",dark:\"#a623c9\",ex:\"#9621c3\",assist:\"#009000\"},{main:\"#555555\",light:\"#e9e9e9\",dark:\"#434343\",ex:\"#262626\",assist:\"#860314\"}],zoom:1,x:0,y:0};var ZOOM_STEP=0.1;var MOVE_STEP=0.1;var preventMinValue=function preventMinValue(obj,key,min){if(obj[key]<=min){obj[key]=min;}};export default(function(global,action){switch(action.type){case actionTypes.SET_TITLE:case actionTypes.SET_THEME:return Object.assign(deepCopy(global),action.data);case actionTypes.ZOOM_IN:{var newGlobal=deepCopy(global);newGlobal.zoom+=ZOOM_STEP;return newGlobal;}case actionTypes.ZOOM_OUT:{var _newGlobal=deepCopy(global);_newGlobal.zoom-=ZOOM_STEP;preventMinValue(_newGlobal,'zoom',0.3);return _newGlobal;}case actionTypes.ZOOM_RESET:{var _newGlobal2=deepCopy(global);_newGlobal2.zoom=1;return _newGlobal2;}case actionTypes.MOVE_XY:{var _newGlobal3=deepCopy(global);_newGlobal3.x+=action.data.x/_newGlobal3.zoom;_newGlobal3.y+=action.data.y/_newGlobal3.zoom;return _newGlobal3;}case actionTypes.MOVE_RESET:{var _newGlobal4=deepCopy(global);_newGlobal4.x=0;_newGlobal4.y=0;return _newGlobal4;}case actionTypes.MOVE_XY_WHEN_ZOOM:{var _newGlobal5=deepCopy(global);_newGlobal5.x=0;_newGlobal5.x=0;return _newGlobal5;}default:return global;}});","map":{"version":3,"sources":["/Users/liuhongyang/Documents/GitHub/repositories/mindmap/src/context/reducer/global/index.js"],"names":["actionTypes","refer","deepCopy","debug","defaultValue_global","title","localStorage","getItem","DEFAULT_TITLE","theme_index","Number","theme_list","main","light","dark","ex","assist","zoom","x","y","ZOOM_STEP","MOVE_STEP","preventMinValue","obj","key","min","global","action","type","SET_TITLE","SET_THEME","Object","assign","data","ZOOM_IN","newGlobal","ZOOM_OUT","ZOOM_RESET","MOVE_XY","MOVE_RESET","MOVE_XY_WHEN_ZOOM"],"mappings":"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","sourcesContent":["import * as actionTypes from './actionTypes';\nimport * as refer from '../../../statics/refer';\nimport { deepCopy } from '../../../methods/assistFunctions';\nimport { debug } from 'util';\n\nexport const defaultValue_global = {\n    title: localStorage.getItem('title') || refer.DEFAULT_TITLE,\n    theme_index: Number(localStorage.getItem('theme_index')) || 0,\n    theme_list: [\n        { main: \"#eda938\", light: \"#f4cc87\", dark: \"#e79021\", ex: \"#ce7529\", assist: \"#1980da\" },\n        { main: \"#ff4c26\", light: \"#ffcabc\", dark: \"#e83f1d\", ex: \"#c12a0f\", assist: \"#0e95ac\" },\n        { main: \"#50b843\", light: \"#c3e5bd\", dark: \"#28ab17\", ex: \"#038b00\", assist: \"#790595\" },\n        { main: \"#2d99d7\", light: \"#e2f5ff\", dark: \"#2786c3\", ex: \"#2375af\", assist: \"#ca6c27\" },\n        { main: \"#b347d2\", light: \"#e4c0ef\", dark: \"#a623c9\", ex: \"#9621c3\", assist: \"#009000\" },\n        { main: \"#555555\", light: \"#e9e9e9\", dark: \"#434343\", ex: \"#262626\", assist: \"#860314\" }\n    ],\n    zoom: 1,\n    x:0,\n    y:0,\n};\n\nconst ZOOM_STEP=0.1;\nconst MOVE_STEP=0.1;\n\nconst preventMinValue=(obj,key,min)=>{\n    \n    if(obj[key]<=min){\n        obj[key]=min\n    }\n}\n\nexport default (global, action) => {\n    switch (action.type) {\n        case actionTypes.SET_TITLE:\n        case actionTypes.SET_THEME:\n            return Object.assign(deepCopy(global), action.data);\n        case actionTypes.ZOOM_IN: {\n            const newGlobal = deepCopy(global)\n            newGlobal.zoom += ZOOM_STEP;\n            return newGlobal;\n        }\n        case actionTypes.ZOOM_OUT: {\n            const newGlobal = deepCopy(global)\n            newGlobal.zoom -= ZOOM_STEP;\n            preventMinValue(newGlobal,'zoom', 0.3)\n            return newGlobal;\n        }\n        case actionTypes.ZOOM_RESET: {\n            const newGlobal = deepCopy(global)\n            newGlobal.zoom = 1;\n            return newGlobal;\n        }        \n        case actionTypes.MOVE_XY: {\n            const newGlobal = deepCopy(global)\n            newGlobal.x+=action.data.x/newGlobal.zoom;\n            newGlobal.y+=action.data.y/newGlobal.zoom;\n            return newGlobal;\n        }        \n        case actionTypes.MOVE_RESET: {\n            const newGlobal = deepCopy(global)\n            newGlobal.x=0;\n            newGlobal.y=0;\n            return newGlobal;\n        }\n        case actionTypes.MOVE_XY_WHEN_ZOOM:{\n            const newGlobal = deepCopy(global)\n            newGlobal.x=0;\n            newGlobal.x=0;\n            return newGlobal;\n        }\n        default:\n            return global;\n    }\n};"]},"metadata":{},"sourceType":"module"}